<!DOCTYPE html>
<!--[if lt IE 9 ]><html class="unsupported-ie ie" lang="{{ app.request.locale }}"><![endif]-->
<!--[if IE 9 ]><html class="ie ie9" lang="{{ app.request.locale }}"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="{{ app.request.locale }}"><!--<![endif]-->
<head>
	{# TODO: this probably won't be needed anymore as we will relay on the HTTP cache #}
	{% include 'tfktelemarkBundle::page_head_displaystyles.html.twig' %}

	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	{% block page_head %}
		{% include 'tfktelemarkBundle::page_head.html.twig' %}
	{% endblock %}
	{% include 'tfktelemarkBundle::page_head_style.html.twig' %}
	{% include 'tfktelemarkBundle::page_head_script.html.twig' %}
</head>
<body>
    <div class="menu-container">
      <div id="mp-pusher" class="menu-pusher">
{% if location is defined and not location.isDraft %}
	{% set currentLocation=location %}
{% endif %}

<!-- Complete page area: START -->
{% if ezpublish.legacy is defined and currentLocation is defined %}
	{{ render( controller( "ezpublish_legacy.website_toolbar.controller:websiteToolbarAction", { 'locationId': currentLocation.id} ) ) }}
{% endif %}

	<!-- Header area: START -->
	{% block header %}
		{% include 'tfktelemarkBundle::page_header.html.twig' %}
	{% endblock %}
	<!-- Header area: END -->
<nav id="menu" role="navigation" class="menu">
 <div class="constrained">
		<!-- Top menu area: START -->
		{% block topMenu %}
			{{ render(
				controller(
					"tfktelemarkBundle:Menu:topMenu",
					{'currentLocationId': currentLocation is defined ? currentLocation.id : null}
				)
			) }}
		{% endblock %}
		<!-- Top menu area: END -->
		{# TODO: implement logic to control path visibility #}
		<!-- Path area: START -->
		{% if pageData is defined and pageData.showPath %}
			{% block path %}
				{% include 'tfktelemarkBundle::page_toppath.html.twig' %}
			{% endblock %}
		{% endif %}
		<!-- Path area: END -->
</div>
</nav>
<main id="main" role="main" tabindex="-1">
      <div class="content">
          <div class="constrained-content">
		{% block breadcrumb %}
			{% if currentLocation is defined %}
				{{ render( controller( 'eZDemoBundle:Demo:viewBreadcrumb', { 'locationId': currentLocation.id } ) ) }}
			{% endif %}
		{% endblock %}
			<!-- Main area: START -->
				{% block content %}{% endblock %}
			<!-- Main area: END -->
		</div>
     </div>
</main>
	<!-- Footer area: START -->
<div class="content">
          <div class="constrained-content">
{% include 'tfktelemarkBundle::page_footer.html.twig' %}
		</div>
     </div>
	<!-- Footer area: END -->
</div>
</div>
<!-- Complete page area: END -->
<!-- Footer script area: START -->
{% block footerScript %}
	{% include 'eZDemoBundle::page_footer_script.html.twig' %}
{% endblock %}
<!-- Footer script area: END -->
</body>
</html>